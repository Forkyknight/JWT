# JWT(Json web token)

JWT, or JSON Web Token, is an open standard used to share security information between two parties — a client and a server. 
Each JWT contains encoded JSON objects, including a set of claims. JWTs are signed using a cryptographic algorithm to ensure that the claims cannot be altered after the token is issued

JWTs differ from other web tokens in that they contain a set of claims. Claims are used to transmit information between two parties. What these claims are depends on the use case at hand.
For example, a claim may assert who issued the token, how long it is valid for, or what permissions the client has been granted.

JWT is a string made up of three parts, separated by dots (.), and serialized using base64. In the most common serialization format, compact serialization, the JWT looks something like this: xxxxx.yyyyy.zzzzz
Once decoded, you will get two JSON strings:
1. The header and the payload.
2. The signature
Header contains the type of token — JWT in this case — and the signing algorithm.  
The payload contains the claims. This is displayed as a JSON string, usually containing no more than a dozen fields to keep the JWT compact. This information is typically used by the server to verify that the user has permission to perform the action they are requesting
The signature ensures that the token hasn’t been altered. The party that creates the JWT signs the header and payload with a secret that is known to both the issuer and receiver, or with a private key known only to the sender. When the token is used, the receiving party verifies that the header and payload match the signature.

Difference bw session based auth and JWT based authorisation
![Screenshot from 2024-01-04 19-21-25](https://github.com/Forkyknight/JWT/assets/68238494/1404e0a4-93b1-4d2c-a054-4e6026a1a12a)
In session based(stateful) auth server need to store the session id and every time the user hits a request the server needs to look up in data base for that corresponding id.
Where JWT is generated by the server using a secret key, sent to and stored by the user in their local storage. Like in the case of cookies, the user sends this token to the server with every new request, so that the server can verify its signature and authorize the requests.

Issue with the sessions
    User store this session id in its cokkie then for each subsequent request we send cookie to server and server check the session if and fetch informantion from its db and perform relevent action, if granted
   ![Screenshot from 2024-01-04 20-02-31](https://github.com/Forkyknight/JWT/assets/68238494/408f63f2-1818-4b68-a0b3-85226c0f51f6)

But it might be concern in casse multiple server , as session is generated from server 1, But request is sent to server b.(to solve this we might can use a shared cache, but it will raise concern of single point of failure)
   
JWT based request.

![Screenshot from 2024-01-04 20-15-14](https://github.com/Forkyknight/JWT/assets/68238494/a85b75c5-9e39-4e5e-a69b-520ddf5b55e7)

IMP
JWT must always be encrypted to avoid token hijacking
For expiration we use exp clain in token to invalidate the request

Main concern with JWT
1. Signature forging
2. program to brute force attack the secret(if secret is weak)
